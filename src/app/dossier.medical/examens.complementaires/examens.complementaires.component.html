<div [formGroup]="form" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 animate-fade-in-up">

    <!-- ðŸ”¬ Analyses sanguines -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">Analyses sanguines</h3>
        <div formArrayName="analysesSanguines" class="space-y-4">
            <div *ngFor="let group of getArray('analysesSanguines').controls; let i = index" [formGroupName]="i" class="flex gap-4 items-center">
                <mat-form-field class="w-1/2">
                    <mat-label>Nom</mat-label>
                    <input matInput formControlName="nom" />
                </mat-form-field>
                <mat-form-field class="w-1/2">
                    <mat-label>Valeur</mat-label>
                    <input matInput formControlName="valeur" />
                </mat-form-field>
                <button mat-icon-button color="warn" (click)="removePair('analysesSanguines', i)">
          <mat-icon>delete</mat-icon>
        </button>
            </div>
            <button mat-stroked-button color="primary" (click)="addPair('analysesSanguines')">Ajouter une analyse</button>
        </div>
    </div>

    <!-- ðŸš½ Analyses urines -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">Analyses urinaires</h3>
        <div formArrayName="analysesUrines" class="space-y-4">
            <div *ngFor="let group of getArray('analysesUrines').controls; let i = index" [formGroupName]="i" class="flex gap-4 items-center">
                <mat-form-field class="w-1/2">
                    <mat-label>Nom</mat-label>
                    <input matInput formControlName="nom" />
                </mat-form-field>
                <mat-form-field class="w-1/2">
                    <mat-label>Valeur</mat-label>
                    <input matInput formControlName="valeur" />
                </mat-form-field>
                <button mat-icon-button color="warn" (click)="removePair('analysesUrines', i)">
          <mat-icon>delete</mat-icon>
        </button>
            </div>
            <button mat-stroked-button color="primary" (click)="addPair('analysesUrines')">Ajouter une analyse</button>
        </div>
    </div>

    <!-- ðŸ§ª Tests spÃ©ciaux -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">Tests spÃ©ciaux</h3>
        <div formArrayName="testsSpeciaux" class="space-y-4">
            <div *ngFor="let group of getArray('testsSpeciaux').controls; let i = index" [formGroupName]="i" class="flex gap-4 items-center">
                <mat-form-field class="w-1/2">
                    <mat-label>Nom</mat-label>
                    <input matInput formControlName="nom" />
                </mat-form-field>
                <mat-form-field class="w-1/2">
                    <mat-label>Valeur</mat-label>
                    <input matInput formControlName="valeur" />
                </mat-form-field>
                <button mat-icon-button color="warn" (click)="removePair('testsSpeciaux', i)">
          <mat-icon>delete</mat-icon>
        </button>
            </div>
            <button mat-stroked-button color="primary" (click)="addPair('testsSpeciaux')">Ajouter un test</button>
        </div>
    </div>

    <!-- ðŸ“· Radiographies -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">Radiographies</h3>
        <div formArrayName="radiographies">
            <div class="flex items-center gap-4">
                <mat-form-field class="w-full">
                    <mat-label>Ajouter une radiographie</mat-label>
                    <input matInput [formControl]="radioInputControl" (keydown)="addSimpleEntry($event, radioInputControl, getArray('radiographies'))" />
                </mat-form-field>
                <button mat-icon-button color="primary" (click)="addEntryFromClick(radioInputControl, getArray('radiographies'))" [disabled]="!radioInputControl.value?.trim()">
          <mat-icon>add</mat-icon>
        </button>
            </div>
            <mat-chip-listbox multiple>
                <mat-chip *ngFor="let entry of getArray('radiographies').controls; let i = index" (removed)="removeSimpleEntry(getArray('radiographies'), i)">
                    {{ entry.value }}
                    <button matChipRemove>âœ•</button>
                </mat-chip>
            </mat-chip-listbox>
        </div>
    </div>

    <!-- ðŸ©» Ã‰chographies -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">Ã‰chographies</h3>
        <div formArrayName="echographies">
            <div class="flex items-center gap-4">
                <mat-form-field class="w-full">
                    <mat-label>Ajouter une Ã©chographie</mat-label>
                    <input matInput [formControl]="echoInputControl" (keydown)="addSimpleEntry($event, echoInputControl, getArray('echographies'))" />
                </mat-form-field>
                <button mat-icon-button color="primary" (click)="addEntryFromClick(echoInputControl, getArray('echographies'))" [disabled]="!echoInputControl.value?.trim()">
          <mat-icon>add</mat-icon>
        </button>
            </div>
            <mat-chip-listbox multiple>
                <mat-chip *ngFor="let entry of getArray('echographies').controls; let i = index" (removed)="removeSimpleEntry(getArray('echographies'), i)">
                    {{ entry.value }}
                    <button matChipRemove>âœ•</button>
                </mat-chip>
            </mat-chip-listbox>
        </div>
    </div>

    <!-- ðŸ§  IRM -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">IRM</h3>
        <div formArrayName="irm">
            <div class="flex items-center gap-4">
                <mat-form-field class="w-full">
                    <mat-label>Ajouter une IRM</mat-label>
                    <input matInput [formControl]="irmInputControl" (keydown)="addSimpleEntry($event, irmInputControl, getArray('irm'))" />
                </mat-form-field>
                <button mat-icon-button color="primary" (click)="addEntryFromClick(irmInputControl, getArray('irm'))" [disabled]="!irmInputControl.value?.trim()">
          <mat-icon>add</mat-icon>
        </button>
            </div>
            <mat-chip-listbox multiple>
                <mat-chip *ngFor="let entry of getArray('irm').controls; let i = index" (removed)="removeSimpleEntry(getArray('irm'), i)">
                    {{ entry.value }}
                    <button matChipRemove>âœ•</button>
                </mat-chip>
            </mat-chip-listbox>
        </div>
    </div>

    <!-- ðŸ–¥ Scanners -->
    <div class="bg-white p-6 rounded-3xl shadow space-y-4 border border-gray-200">
        <h3 class="text-lg font-semibold">Scanners</h3>
        <div formArrayName="scanners">
            <div class="flex items-center gap-4">
                <mat-form-field class="w-full">
                    <mat-label>Ajouter un scanner</mat-label>
                    <input matInput [formControl]="scannerInputControl" (keydown)="addSimpleEntry($event, scannerInputControl, getArray('scanners'))" />
                </mat-form-field>
                <button mat-icon-button color="primary" (click)="addEntryFromClick(scannerInputControl, getArray('scanners'))" [disabled]="!scannerInputControl.value?.trim()">
          <mat-icon>add</mat-icon>
        </button>
            </div>
            <mat-chip-listbox multiple>
                <mat-chip *ngFor="let entry of getArray('scanners').controls; let i = index" (removed)="removeSimpleEntry(getArray('scanners'), i)">
                    {{ entry.value }}
                    <button matChipRemove>âœ•</button>
                </mat-chip>
            </mat-chip-listbox>
        </div>
    </div>
</div>