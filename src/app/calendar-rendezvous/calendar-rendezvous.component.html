<app-sidebar></app-sidebar>
<div class="pl-72 pr-8 pt-6">
    <div class="mb-4 flex flex-wrap gap-4 items-center">
         <input type="text" [(ngModel)]="filters.nomPro" placeholder="Nom du professionnel" class="p-2 border border-gray-300 rounded w-full md:w-1/3">
         <input type="date" [(ngModel)]="filters.date" class="p-2 border border-gray-300 rounded w-full md:w-1/3">
         <select [(ngModel)]="filters.statut" class="px-3 py-2 border border-gray-300 rounded w-full md:w-1/3">
           <option value="">-- Tous les Statuts --</option>
           <option value="en_attente">En attente</option>
           <option value="valide">Validé</option>
           <option value="annule">Annulé</option>
         </select>
         <button (click)="appliquerFiltres()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Filtrer</button>
    </div>
    <div [@fadeIn] class="mb-4">
         <full-calendar [options]="calendarOptions" class="shadow-xl rounded-lg p-4 bg-white"></full-calendar>
    </div>
</div>

<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center">
  <div class="bg-white p-6 rounded-lg w-[400px] shadow-2xl animate-scale-in">
    <h2 class="text-xl font-bold mb-4 text-gray-700">Nouveau rendez-vous</h2>

    <label class="block text-sm font-medium text-gray-700 mb-1">Nom du professionnel</label>
    <input [(ngModel)]="modalData.nomPro" class="border rounded px-3 py-2 w-full mb-3" placeholder="Dr. Dupont" />

    <label class="block text-sm font-medium text-gray-700 mb-1">Heure</label>
    <input [(ngModel)]="modalData.heure" type="time" class="border rounded px-3 py-2 w-full mb-4" />

    <div class="flex justify-between items-center gap-3 mt-4">
      <button (click)="annulerRdv()" *ngIf="modalData.id" class="px-4 py-2 rounded bg-red-500 text-white hover:bg-red-600">Annuler</button>
      <button (click)="fermerModal()" class="px-4 py-2 rounded bg-gray-100 text-gray-600 hover:bg-gray-200">Fermer</button>
      <button (click)="validerRdv()" class="px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600">
               {{ modalData.id ? 'Modifier' : 'Valider' }} le rendez-vous
      </button>
    </div>
  </div>
</div>

<!-- Toast -->
<div *ngIf="toastMessage" [@fadeInOut] class="fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded shadow-lg z-50">
  {{ toastMessage }}
</div>



