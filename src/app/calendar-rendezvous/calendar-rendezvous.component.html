<app-sidebar></app-sidebar>

<div class="main-container">
    <!-- Filtres -->
    <div class="filter-container">
        <input type="text" [(ngModel)]="filters.nomPro" placeholder="Nom du professionnel" class="filter-input" />

        <input type="date" [(ngModel)]="filters.date" class="filter-input" />

        <select [(ngModel)]="filters.statut" class="filter-input">
      <option value="">-- Tous les Statuts --</option>
      <option value="en_attente">En attente</option>
      <option value="valide">Validé</option>
      <option value="annule">Annulé</option>
    </select>

        <button (click)="appliquerFiltres()" class="btn-primary">
      Filtrer
    </button>
    </div>

    <!-- Calendrier -->
    <div [@fadeIn] class="calendar-container">
        <full-calendar [options]="calendarOptions" class="calendar-widget">
        </full-calendar>
    </div>
</div>

<!-- Modal -->
<div *ngIf="showModal" class="modal-overlay">
    <div class="modal-box">
        <h2 class="modal-title">Nouveau rendez-vous</h2>

        <label class="modal-label">Nom du professionnel</label>
        <input [(ngModel)]="modalData.nomPro" class="modal-input" placeholder="Dr. Dupont" />

        <label class="modal-label">Heure</label>
        <input [(ngModel)]="modalData.heure" type="time" class="modal-input" />

        <div class="modal-actions">
            <button (click)="annulerRdv()" *ngIf="modalData.id" class="btn-danger">
        Annuler
      </button>
            <button (click)="fermerModal()" class="btn-secondary">
        Fermer
      </button>
            <button (click)="validerRdv()" class="btn-primary">
        {{ modalData.id ? 'Modifier' : 'Valider' }} le rendez-vous
      </button>
        </div>
    </div>
</div>

<!-- Toast -->
<div *ngIf="toastMessage" [@fadeInOut] class="toast-success">
    {{ toastMessage }}
</div>